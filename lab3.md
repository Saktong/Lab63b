# การทดลองที่ 3 เรื่อง การเขียนโปรแกรมเอ้าพุทสัญญาณดิจิทัล

## วัตถุประสงค์

1. เพื่อทราบการเขียนโปรแกรมบน microcontrollor

2. เพื่อนำ microcontrolor ที่เขียนโปรแกรมแล้วไปประยุกต์ใช้

3. เพื่อศึกษาหลักการทำงานของรีเลย์

## อุปกรณ์ที่ใช้

1. อุปกรณต่อ USB

2. ESP-01 (microcontrolor)
 
3. USB2Serial converter

4. adaptor ที่มี 2 port 
 
5. relay
  
6. ไฟเลี้ยง

## ศึกษาข้อมูลเบื้องต้น

* การใช้งาน platformio https://platformio.org/

* การเริ่มเขียนโปรแกรมภาษา C https://benzneststudios.com/blog/c-programming/c-programming-basic-1/

* เรียนรู้ ESP-01   https://docs.platformio.org/en/latest/boards/espressif8266/esp01_1m.html

* การต่อวงจร Microcontroller และการเขียนโปรแกรมควบคุมเบื้องต้น https://learninginventions.org/?page_id=2198

## วิธีการทำการทดลอง

1.ติดตั้งโปรแกรมใส่ไมโครคอนโทรลเลอร์

![image](https://user-images.githubusercontent.com/80880340/112400477-05832600-8d3b-11eb-9cf1-e97aeaaa630f.png)

2.ทำการต่อไฟเลี้ยงจากคอมเข้ารีเลย์

3.ต่อไมโครคอนโทรลเลอร์เข้ากับรีเลย์

![image](https://user-images.githubusercontent.com/80880340/112400528-1fbd0400-8d3b-11eb-90e0-e0630ed091a0.png)

4.ทำการรันโปรแกรม

![image](https://user-images.githubusercontent.com/80880340/112400555-2d728980-8d3b-11eb-846a-61e6e93a46c0.png)

## การบันทึกผลการทดลอง

1.เขียนโปรแกรม microcontrollor ด้วยโปรแกรม 03_Output-Port
  จะเห็นว่าจากคำสั่ง pio device monitor ได้ขึ้นคำสั่ง on off ทุกๆ 500 ms ตามโค้ดที่เราใส่อยู่ในโปรแกรม และเมื่อสังเกตที่หลอดไฟ LED ที่พอร์ท 0 
  ก็จะสว่างและดับตามคำสั่ง on off เช่นกัน
  
2.การนำตัว microcontrollor ที่ได้ลงโปรแกรมแล้วมาประยุกต์ใช้ต่อกับตัวรีเลย์
   จะเห็นว่าเมื่อต่อขั้วชาร์ตไฟไปแล้วจะเห็นว่าตัวรีเลย์มีการเปิดปิดทันทีโดยจะได้ยินเสียงหน้าสัมผัสของสวิตซ์
   
## อภิปรายผลการทดลอง

การเขียนโปรแกรมเอ้าพุทสัญญาณดิจิทัลต้องการต่อเข้ากับ adaptor ก่อนต่อเข้ากับ microcontollorโดยตรงโดย outputจะแสดงผลลัพธ์ที่ adaptor ที่มีหลอดไฟเป็นตัวแสดงผลลัพธ์ให้เห็น 
และมีการเซตการทดลองให้โปรแกรมส่งออก output ที่port 0 เพียงอย่างเดียวนั้นคือส่งผลลัพธ์ออกทางหลอดไฟสีเขียว

## คำถามหลังการทดลอง

Q:เสียงหน้าสัมผัสที่เกิดจาก Relay เกิดขึ้นจากอะไร

A:จากการทำงานของ Relay เมื่อมีกระแสไฟฟ้าไกลผ่านขดลวด จะทำให้ขดลวดเกิดสนามแม่เหล็กไปดึงแผ่นหน้าสัมผัสจาก normal close
 ให้ดึงลงมาแตะหน้าสัมผัสของ normal open ทำให้มีกระแสไหลผ่านหน้าสัมผัสไปได้ จนครบวงจร
